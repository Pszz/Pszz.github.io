window.sky||(window.sky={}),void function(){function t(t,e){return t.push(e),e}function e(t,e,n){t[n]=e}function n(){return arguments[1]}function a(t,e){if("string"==typeof t)return this[t]=e,this;for(var n,a,o=g.call(arguments);o.length;){n=o.shift();for(a in n)this[a]=n[a]}return this}function o(){var t,e=g.call(arguments);if("function"==typeof this)for(this.prototype.extra=a,this._inits_=[];e.length;)t=e.shift(),"function"==typeof t&&(a.call(this,t),this._inits_.unshift(t),t=t.prototype),a.call(this.prototype,t);else for(;t=e.shift();){if("function"==typeof t)try{t=new t}catch(n){t=t.prototype}a.call(this,t)}return this}function s(t,e){var n=x.alias[t]||t,a="?v="+(x.versions[n]||x.version||"1.0.0"),o=n.match(/^([^?#]*)(.*)$/),s=(/\.js|\.css$/.test(o[1])?o[0]:o[1]+S).replace(/^\.\//,x.base)+a+o[2];return e?s.match(/^([^#]*)(.*)$/):s}function r(t,e,n,a){e&&(a?w:R).push(e);for(var o=0;o<t.length;o+=1)_.push([t[o],i,n]);0==A&&(A=1,i())}function c(t){var e=I[s(t)]||{};return e.exports}function i(){if(_.length){var t=_.shift();return void l.apply(null,t)}if(w.length||R.length){var e=(w.length?w:R).pop();return e(c),void i()}A=0}function u(t,e,n){var a=m.createElement("script");a.setAttribute("type","text/javascript"),n&&a.setAttribute("charset",n),a.onreadystatechange=a.onload=a.onerror=function(){a.readyState&&"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=a.onload=a.onerror=null,a=null,e&&setTimeout(function(){e(t)},0))},a.src=t,m.getElementsByTagName("head")[0].appendChild(a)}function d(t){var e=b[t];if(b[t]=!0,e&&e!==!0)for(var n,a=0;a<e.length;a+=1)n=e[a],n[0](n[1])}function p(t,e,n){var a=s(t,!0)[1];return b[a]===!0?void e(t):void(null==b[a]?(b[a]=[[e,t]],u(a,d,n)):b[a].push([e,t]))}function l(t,e,n){function a(t){delete o[t];for(var n in o)return;e(),a=function(){}}if("string"==typeof t)return void p(t,e,n);for(var o={},s=0;s<t.length;s+=1)o[t[s]]=!0;for(s=0;s<t.length;s+=1)p(t[s],a,n)}function f(t,e){return j(t,function(t){t.push&&t.shift?f(t,e):e.push(c(t))}),e}function h(t,e){if("function"==typeof t){var n=t(function(t){return c(e.deps&&e.deps[t]||t)},e.exports,e);null!=n&&(e.exports=n)}else e.exports=t;var a=sky["on_"+e.mid.replace(/^\.\//,"").replace(/\/+/g,"_")];a&&a(e.exports)}void function(t){sky.IE=window.attachEvent&&window.ActiveXObject&&!window.opera?parseFloat(t.match(/msie ([\d.]+)/)[1]):0,sky.Firefox=/firefox\/([\d.]+)/.test(t)?parseFloat(RegExp.$1):0,sky.isTouch="createTouch"in document}(window.navigator.userAgent.toLowerCase());var m=document,g=Array.prototype.slice,y=Array.prototype.pop,v=Object.prototype.toString,j=sky.forEach=function(a,o,s,r){if(null==r&&(r=this),a){var c,i=s?s.push?t:e:n,u=a.length,d=v.call(a).toLowerCase();if("[object nodelist]"==d||"[object arguments]"==d||"[object object]"==d&&"number"==typeof u&&u>=0)for(var p=0;u>p&&(c=o.call(r,a[p],p),c!==!1);p+=1)i(s,c,p);else for(var l in a)if(a.hasOwnProperty(l)){if(c=o.call(r,a[l],l),c===!1)break;i(s,c,l)}}return s||r},x=sky.config?sky.config:sky.config={};sky.bind=function(){var t=g.call(arguments),e=t.shift(),n=t.shift();return function(){return e.apply(null==n?this:n,t.concat(g.call(arguments)))}},sky.extra=function(){return a.apply(y.call(arguments),arguments)},sky.extend=function(){return o.apply(y.call(arguments),arguments)};var k=sky.EventEmitter=sky.extend({on:function(t,e){var n=this._monitor_||(this._monitor_={});return n[t]||(n[t]=[]),n[t].push(e),this},onec:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,arguments.callee)}),this},off:function(t,e){var n=this._monitor_;if(n)if(e){var a=n[t];if(a)for(var o=0;o<a.length;o+=1)if(a[o]==e){a.splice(o,1);break}}else t?delete n[t]:delete this._monitor_;return this},emit:function(){var t,e,n=Array.prototype.shift.call(arguments),a=this._monitor_?this._monitor_[n]:null;if(a){var o;for(e=0;e<a.length;e+=1)o=a[e].apply(this,arguments),t!==!1&&(t=o)}if(t!==!1&&(a=this.constructor._monitor_?this.constructor._monitor_[n]:null))for(e=0;e<a.length;e+=1)a[e].apply(this,arguments);var s="on"+n;return"function"==typeof this[s]?this[s].apply(this,arguments):this}},function(){});k.on=k.prototype.on,k.onec=k.prototype.onec,k.off=k.prototype.off;var E="data-base",$=function(t){for(var e,n=0;n<t.length;n+=1){if(t[n].getAttribute(E)){e=t[n];break}t[n].src&&(e=t[n])}return e}(m.getElementsByTagName("script")),P=$.src.split(/[\?\#]/)[0];null==x.base&&(x.base=$.getAttribute(E)||P.replace(/[^\/]*$/,"")),null==x.alias&&(x.alias={}),null==x.versions&&(x.versions={});var S=$.src.indexOf(".source.js")>0?".source.js":".js",b={};b[$.src]=!0;var _=[],R=[],w=[],A=0,I={};sky.xModules=I,sky.require=c,sky.loadJS=u,sky.loadCSS=function(t,e){var n=m.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),e&&n.setAttribute("charset",e),n.href=s(t,!0)[1],m.getElementsByTagName("head")[0].appendChild(n)},sky.use=function(){var t,e,n,a=g.call(arguments),o=a.length;return"function"==typeof a[o-2]&&(e=a.pop(),o-=1),"function"==typeof a[o-1]&&(t=a.pop()),t&&(n=function(){t.apply(sky,f(a,[]))}),setTimeout(function(){r(a,n,e)},0),this},sky.define=function(){var t,e=g.call(arguments),n=e.pop(),a="";e.length&&(t=e.pop(),"string"==typeof t?(a=t,t=null):a=e.pop());var o=s(a,!0),c=I[o[0]]={url:o[1],id:o[0],mid:a};c.exports={},t?(c.deps=t,setTimeout(function(){r(t,function(){h(n,c)},null,!0)},0)):o[1]==P?(h(n,c),b[o[1]]=!0):setTimeout(function(){h(n,c)},0)}}(),sky.extra({comm:"./data/comm",sheet:"./data/sheet",dom:"./dom/dom",kite:"./widget/kite",ajax:"./connect/ajax",template:"./data/template",date:"./widget/date"},sky.config.alias),void function(){var t,e,n=["#F00","#0F0","#00F","#FF0","#F0F","#0FF"],a=["#FFF","#000","#FFF","#000","#FFF","#000"];sky.debug=function(o){"string"!=typeof o&&(o=JSON.stringify(o)),t||(e=0,t=document.createElement("div"),t.style.cssText="position:absolute; top:0; left:0; right:0; z-index:999999999;",t.ondblclick=function(t){this.innerHTML="",t.stopPropagation()},document.ondblclick=function(){var e=t.style;e.display="none"==e.display?"block":"none"},document.body.appendChild(t));var s=document.createElement("div");s.style.cssText="padding: 5px; color:"+a[e]+"; word-wrap: break-word; background-color:"+n[e++],s.innerHTML=o,t.appendChild(s),e%=n.length}}();