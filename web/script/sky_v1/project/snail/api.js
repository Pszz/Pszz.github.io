window.api||(window.api={}),api.data||(api.data={}),api.config||(api.config={}),window.console||(window.console={log:function(){}}),/FreeStoreIOS/i.test(window.navigator.userAgent+"")?(window.EasyJS={__callbacks:{},invokeCallback:function(t,e){var i=Array.prototype.slice.call(arguments);i.shift(),i.shift();for(var o=0,a=i.length;a>o;o++)i[o]=decodeURIComponent(i[o]);var n=EasyJS.__callbacks[t];return e&&(EasyJS.__callbacks[t]=void 0),n.apply(null,i)},call:function(t,e,i){for(var o=[],a=0,n=i.length;n>a;a++)if("function"==typeof i[a]){o.push("f");var s="__cb"+ +new Date;EasyJS.__callbacks[s]=i[a],o.push(s)}else o.push("s"),o.push(encodeURIComponent(i[a]));var r=o.length>0?":"+encodeURIComponent(o.join(":")):"",d=document.createElement("IFRAME");d.setAttribute("src","easy-js:"+t+":"+encodeURIComponent(e)+r),document.documentElement.appendChild(d),d.parentNode.removeChild(d),d=null;var c=EasyJS.retValue;return EasyJS.retValue=void 0,"string"==typeof c?decodeURIComponent(c):c},inject:function(t,e){window[t]={};for(var i=window[t],o=0,a=e.length;a>o;o++)(function(){var a=e[o],n=a.replace(new RegExp(":","g"),"");i[n]=function(){return EasyJS.call(t,a,Array.prototype.slice.call(arguments))}})()}},window.EasyJS.inject("AndroidInterface",["login","finish","getBssAccount","getAccount","getLoginInfo","getDeviceId","loadUrlInNewWindow"])):window.EasyJS={inject:function(){console.log(arguments)}},void function(){function t(t){return/^http(?:s)?:\/\//i.test(t)?t:/^\//i.test(t)?"http://"+document.domain+t:"http://"+document.domain+document.location.pathname.replace(/[^\/]*$/,"")+t.replace(/^\.\//,"")}function e(){return console.log(arguments),arguments[0]||""}var i=window.AndroidInterface||window.OnlineShopInterface||{};api.isCustom=!(!window.AndroidInterface&&!window.OnlineShopInterface);var o=0,a={};window.onconfirm=function(t,e){var i=a[t];i&&(i(e),delete a[t])},window.onalert=function(t){var e=a[t];e&&(e(),delete a[t])},api.getFullPath=t,api.newWindow=function(e){var i=t(e);try{window.OnlineShopInterface.loadUrlInNewWindow(i)}catch(o){try{window.AndroidInterface.loadUrlInNewWindow(i)}catch(o){try{window.AndroidInterface.loadUrl(i)}catch(o){document.location.href=e}}}return this},api.newSystemWindow=function(e){var i=t(e);try{window.AndroidInterface.openInSystemBrowser(i)}catch(o){try{window.OnlineShopInterface.openInSystemBrowser(i)}catch(o){document.location.href=e}}return this},api.confirm=i.confirm?function(t,e){o+=1,e&&(a[o]=e),i.confirm(t,o)}:function(t,e){var i=window.confirm(t);e&&e(i?1:0)},api.alert=i.alert?function(t,e){o+=1,e&&(a[o]=e),i.alert(t,o)}:function(t,e){window.alert(t),e&&e()},api.trace=i.Log?function(t){i.Log(t)}:function(t){console.log(t)},api.copy=i.copy?function(t){i.copy(t)}:function(t){console.log("复制到剪切板："+t)},api.login=i.login?function(){i.login()}:function(t){var e=api.config.login_href||"/cms/web/center/login.html";document.location.href=e+(e.indexOf("?")>-1?"&":"?")+"href="+encodeURIComponent(t||document.location.href)},api.charge=i.charge?function(){i.charge()}:function(){console.log("充值")},api.bind=i.bind?function(){i.bind()}:function(){console.log("绑定手机")},api.score=i.scorePage?function(){i.scorePage()}:function(){console.log("赚积分")},api.setTitle=i.Log?function(t){i.Log(t)}:function(t){console.log("设置网页标题："+t)},api.finish=i.finish?function(){i.finish()}:function(){window.close(),console.log("关闭窗口")},api.downloadAPK=i.downloadApk?function(){for(var t=0;t<arguments.length;t+=1)arguments[t]=String(arguments[t]);i.downloadApk.apply(i,arguments)}:function(){console.log("apk下载(真实的已经全部转为字符串)",arguments)},api.checkApkIsInstall=i.checkApkIsInstall?function(t){return i.checkApkIsInstall(t)}:function(t,e){return console.log("apk是否安装",t),e},api.activation=i.activation?function(){i.activation.apply(i,arguments)}:function(){console.log("apk分享",arguments)},api.hideShareImage=i.hideShareImage?function(){i.hideShareImage(1)}:function(){console.log("隐藏分享按钮",arguments)},api.getLoginInfo=i.getLoginInfo?function(){return i.getLoginInfo()}:function(){return""},api.getIsBssAccount=i.getBssAccount?function(){return i.getBssAccount()}:function(t){return t},api.getAccount=i.getAccount?function(){return i.getAccount()}:function(){return api.data.user_account||arguments[0]||""},api.getDisplayAccount=i.getDisplayAccount?function(){return i.getDisplayAccount()}:e,api.getNickName=i.getNickName?function(){return i.getNickName()}:e,api.getPhoneNumber=i.getPhoneNumber?function(){return i.getPhoneNumber()}:e,api.getDeviceId=i.getDeviceId?function(){return i.getDeviceId()}:e,api.setBarAction=i.setTitleViewAction?function(t,e){e&&(window.OnTitleViewClick=e),i.setTitleViewAction(t)}:e,api.getGiftBag=i.getGiftBag?function(){return i.getGiftBag.apply(i,arguments)}:e,api.openFreeArea=i.openFreeArea?function(){i.openFreeArea()}:e,api.refreshUserInfo=i.refreshUserInfo?function(){i.refreshUserInfo()}:function(){console.log("刷新用户数据")}}(),String.Config={uniRe:"**",uniExp:/[*]{2}/g,uniRemove:/[*]/g},String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s\s*$/,"")},String.prototype.htmlEncode=function(t){return(t?this.uniLeft(30,".."):this).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&#34;").replace(/\'/g,"&#39;")},String.prototype.htmlEncodeBr=function(t){return this.htmlEncode(t).replace(/\n/g,"<br />")},Date.prototype.format=function(t){return(t||"YYYY-MM-DD").replace(/YYYY/g,this.getFullYear()).replace(/YY/g,String(this.getYear()).slice(-2)).replace(/MM/g,("0"+(this.getMonth()+1)).slice(-2)).replace(/M/g,this.getMonth()+1).replace(/DD/g,("0"+this.getDate()).slice(-2)).replace(/D/g,this.getDate()).replace(/hh/g,("0"+this.getHours()).slice(-2)).replace(/h/g,this.getHours()).replace(/mm/g,("0"+this.getMinutes()).slice(-2)).replace(/m/g,this.getMinutes()).replace(/ss/g,("0"+this.getSeconds()).slice(-2)).replace(/s/g,this.getSeconds())},api.getPath=function(t,e,i){var o="",a=Number(t),n=1;i=i||1e3,e=e||4;for(var s=1;e>s;s+=1)n*=i;for(s=0;e>s;s+=1)e!=s+1?(o+="/"+Math.floor(a/n),a%=n,n/=i):o+="/"+t;return o},api.config.sizeStairs=1024,api.sizeTxt=function(t,e,i){if(t=t*(e||1)||0,0>=t)return"";i||(i=api.config.sizeStairs);var o;return(o=t/i/i/i)>=1?t=Math.floor(10*o)/10+"GB":(o=t/i/i)>=1?t=Math.floor(10*o)/10+"MB":(o=t/i)>=1?t=Math.floor(10*o)/10+"KB":t+="B",t},void function(){function t(t){e[t.nAppId]=[t.cDownloadUrl,t.sAppName,t.cPackage,t.cIcon,t.iVersionCode,t.nAppId,t.cVersionName,t.cMd5,t.iSize]}var e={};api.downloadAPKSet=t,api.downloadAPKMini=function(i){var o=e[i];o?o!==!0&&api.downloadAPK.apply(api,o):(e[i]=!0,sky.use("ajax",function(o){o.get("/appSpace"+api.getPath(i)+"/detail.json",function(){var o=(this.responseJSON||{}).item;o?(t(o),api.downloadAPKMini(i)):setTimeout(function(){e[i]=null},6e4)})}))}}(),api.act_tj_down=function(t,e){sky.use("ajax",function(i){i.post("/store/platform/activity/user/center/download",null,{iActivityId:t,cImei:api.getDeviceId(),iAppId:e||"",iPlatform:0})})},api.act_tj_pv=function(t){sky.use("ajax",function(e){e.post("/store/platform/activity/user/center/visit",null,{iActivityId:t,cImei:api.getDeviceId(),url:document.location.href,iPlatform:0})})},void function(){var t=api.config,e={"api.app.snail.com":"6003ae023b8bd87e7ad096cb855876bc","api.app1.snail.com":"d977828f083079e345977a5f3525c71e","api.app2.snail.com":"e96f0b92bb7dba119339ecce65dfe727","api.app3.snail.com":"1d37c33c960ec36b0299fa525651008e","api.app4.snail.com":"a286f4d2a9a8b98b98292785a09fffcc","api.app5.snail.com":"cb8a4add88e862913e960ce695252b01","libao.snail.com":"7bd19a01633a2153b8481e12dafb924b","sq.snail.com":"8d0740e75d1073c1e1b50835276036b8",gofreestore:"77c6aeb59ead4439a99e4b754654d520"},i=t.baidu_tj_url||"//hm.baidu.com/hm.js";t.baidu_tj_domain&&sky.extra(t.baidu_tj_domain,e),api.load_baidu_tj=function(){var t=e[document.domain];t&&sky.loadJS(i+"?"+t),api.load_baidu_tj=function(){}}}(),void function(t){function e(t,e){if(!r){r=!0,t||(t={}),t.type||(t.type=t.url?7:t.pageId?t.pageTitle?5:6:1);var i=[];t.url&&(t.url=api.getFullPath(t.url));for(var o in t)i.push(o+"="+decodeURIComponent(t[o]));s=!1;var a="snailgame ://freestore?"+i.join("&"),n=document.createElement("IFRAME");n.setAttribute("src",a),document.documentElement.appendChild(n),n.parentNode.removeChild(n),setTimeout(function(){r=null,e&&e(s)},50)}}function i(t){t||(api.notFreeStoreAlert?api.notFreeStoreAlert():api.alert(api.config.not_freestore_tip||"活动详情请至免商店查看\n如没安装免商店，请下载安装"))}function o(){d||(d=document.createElement("div"),d.style.cssText=" position: fixed; display:none; z-index:101; top: 0; bottom: 0; left: 0; right: 0; background-color: rgba(0,0,0,.85); text-align: right;",d.innerHTML='<img src="'+api.getCDNSrc("api:ios_down.png")+'" />',d.onmousedown=function(){d.style.display="none"},document.body.appendChild(d)),d.style.display="block"}var a=api.isFreeStore=t.indexOf("freestore")>=0,n=/MicroMessenger/i.test(t),s=!1;window.addEventListener&&window.addEventListener("blur",function(){s=!0});var r=!1;api.openFreeStore=function(t,o){e(t,o||i)},api.href=function(t,e,i){return a?e&&!api.data.user_id?void api.login(api.getFullPath(t)):void(i?document.location.replace(t):document.location.href=t):void api.openFreeStore({url:t,type:7})};var d,c=api.config.down_android_url||"http://go.woniu.com/to/66A426E7-5ADE-FE0C-4F8F-3433726EBBC7",l=api.config.down_android_url_wx||"http://app.qq.com/#id=detail&appid=1101250309",p="https://itunes.apple.com/cn/app/mian-shang-dian/id871192746?mt=8";api.downloadFreeStore=function(e){api.openFreeStore({type:1},function(i){return e?void e(i):void(i||(/ipad|ipod|ipad|iphone/i.test(t)?n?o():document.location.href=p:document.location.href=n?l:c))})}}(window.navigator.userAgent.toLowerCase()),void function(){function t(){var t=document.getElementById("__loading_");if(!t)if("none"!=n.getData("load")){t=document.createElement("div"),t.id="__loading_",t.style.cssText=" position: fixed; width: 100%; text-align: center; padding: 2px 0; bottom: 0; z-index: 9999; display:none;",t.innerHTML='<img src="'+api.getCDNSrc("api:loading.gif")+'" />',document.body.appendChild(t);var e=0;api.openLoad=function(){e+=1,1==e&&(t.style.display="block")},api.closeLoad=function(){e-=1,0==e&&(t.style.display="none"),e=Math.max(e,0)}}else api.openLoad=api.closeLoad=function(){}}function e(){for(var t,e=document.body.getElementsByTagName("img"),i=0;i<e.length;i+=1)t=e[i].getAttribute("cdn-src"),t&&(e[i].removeAttribute("cdn-src"),e[i].src=api.getCDNSrc(t))}function i(t){return new RegExp("[?:; ]*"+t+"=([^;]*);?").test(document.cookie+"")?decodeURIComponent(RegExp.$1):""}function o(){if(api.snail_collection)api.snail_collection();else{if(api.data.user_id){var t=i("naid");t||(document.cookie="naid="+api.data.user_id)}setTimeout(function(){sky.loadJS("http://gg.woniu.com/app/models/ty/statistics_ty_v1.js")},100)}}function a(){api.setTitle(document.title),e(),t(),api.onload&&api.onload();var a=n.getData("verify");if(api.data.user_id=i("nUserId")||i("naid"),api.data.user_account=i("SSOPrincipal"),"must"==a&&""==api.data.user_id)return void api.login();var s=n.getData("js");if("none"!=s){var r=n.host.js+document.location.pathname.replace(/\/+$/,"/index.html").replace(/(\/[^\/]*)$/,"/script$1").replace(/\.[^.]*$/,n.suffix||".js"),d=n.getData("version")||"";d&&(r=r+"?"+d),r=s?/,$/.test(s)?s+r:s:r;var s=r?r.split(","):[];return void(s.length&&(s.push(o),sky.use.apply(sky,s)))}o()}var n=api.config;n.version.sky&&(sky.config.version=n.version.sky),n.versions&&sky.extra(n.versions,sky.config.versions),n.alias&&sky.extra(n.alias,sky.config.alias);var s=n.domain||"//"+document.domain.replace(/^api\./,"static.")+"/";if(!api.getCDNSrc){var r=document.location.pathname.replace(/\/[^\/]*$/,"/").replace(/^\/*/,"");api.getCDNSrc=function(t){api.isLargeScreen||(t=t.replace(/_larger(\.[^.]+)$/,"$1"));var e=document.domain;if(/^\.\//.test(t))return s+t.replace(/^\.\//,r);if(/^api:/.test(t)){var i=(0==e.indexOf("api.app")?s:"//static.app1.snail.com/")+"cms/web/res/imgs/";return t.replace(/^api:/,i)}return t}}var d=0;api.getServerTime=function(){return new Date((new Date).getTime()-d)},sky.on_connect_ajax=function(t){sky.extra({onsend:function(){api.openLoad()},oncomplete:function(){if(api.closeLoad(),void 0===d&&(d=(new Date).getTime()-new Date(this.getResponseHeader("Date")).getTime()),0==this.status)return!1;var t=this.responseJSON||{};return this.autoLogin&&1008==t.code?(api.login(),!1):void 0},oncensor:function(){var t=this.status,e="未定义错误类型";if(this.resultCode=-1*t,this.resultText="",!this.timeout&&t>=200&&300>t||304===t||1223===t){var i=this.responseJSON;return i?void 0===i.code||0==i.code?(this.resultCode=0,!0):(this.resultCode=i.code,this.resultText=i.msg||"",i.msg||e):e}return e+"["+this.status+"]"},onopen:function(t,e){e._source=1,api.ajaxOpen&&api.ajaxOpen.call(this)},autoLogin:!0},t.BaseClass.prototype)},sky.on_data_template=function(t){t.setFormat("sizeTxt",function(){return api.sizeTxt.apply(this,arguments)})},document.attachEvent?document.attachEvent("onreadystatechange",function(){("complete"==document.readyState||"loaded"==document.readyState)&&a()}):document.addEventListener("DOMContentLoaded",a,!1)}();try{document.addEventListener("touchstart",function(){},!0)}catch(e){}